(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{425:function(e,t,r){Promise.resolve().then(r.bind(r,76544)),Promise.resolve().then(r.bind(r,12241)),Promise.resolve().then(r.bind(r,84226)),Promise.resolve().then(r.t.bind(r,72972,23))},76544:function(e,t,r){"use strict";r.d(t,{AdminStatCard:function(){return o}});var n=r(57437),a=r(99178),i=r(47984);let s={blue:"bg-blue-100 text-blue-600",primary:"bg-primary-100 text-primary-600",success:"bg-success-100 text-success-600",purple:"bg-purple-100 text-purple-600"};function o(e){let{title:t,value:r,icon:o,color:l}=e;return(0,n.jsx)(a.Z,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-start justify-between",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("p",{className:"text-sm text-neutral-600 font-medium",children:t}),(0,n.jsx)("p",{className:"text-3xl font-bold text-neutral-900 tracking-tight",children:r})]}),(0,n.jsx)("div",{className:(0,i.cn)("w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",s[l]),children:o})]})})}},12241:function(e,t,r){"use strict";r.d(t,{ExportDataButton:function(){return l}});var n=r(57437),a=r(2265);let i=(0,r(79205).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var s=r(84226),o=r(64014);function l(e){let{logs:t,variant:l="primary",size:d="medium"}=e,[c,u]=(0,a.useState)(!1);async function m(){u(!0);try{let e=t;if(!e||0===e.length){let{createClient:t}=await Promise.all([r.e(452),r.e(970)]).then(r.bind(r,10970)),n=t(),{data:a}=await n.from("grow_logs").select("*").order("created_at",{ascending:!1});e=a||[]}if(!e||0===e.length){alert("No data to export"),u(!1);return}let n=function(e){let t=["id","growth_stage","log_date","strain","substrate","substrate_ratio","inoculation_method","inoculation_details","growing_method","tek_method","temperature","humidity","ph_level","weight","light_hours_daily","data_completeness_score","created_at"],r=e.map(e=>t.map(t=>{let r=e[t];if(null==r)return"";if("log_date"===t||"created_at"===t)return r?(0,o.WU)(new Date(r),"yyyy-MM-dd"):"";let n=String(r);return n.includes(",")||n.includes('"')||n.includes("\n")?'"'.concat(n.replace(/"/g,'""'),'"'):n}).join(","));return[t.join(","),...r].join("\n")}(e),a="spawnify-data-".concat((0,o.WU)(new Date,"yyyy-MM-dd"),".csv");!function(e,t){let r=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}(n,a)}catch(e){console.error("Export error:",e),alert("Failed to export data. Please try again.")}finally{u(!1)}}return(0,n.jsxs)(s.Button,{variant:l,size:d,onClick:m,loading:c,disabled:c,className:"medium"===d?"w-full":"",children:[(0,n.jsx)(i,{className:"w-4 h-4 mr-2"}),"Export to CSV"]})}},84226:function(e,t,r){"use strict";r.d(t,{Button:function(){return l}});var n=r(57437),a=r(2265),i=r(27648),s=r(51817),o=r(47984);let l=(0,a.forwardRef)((e,t)=>{let{variant:r="primary",size:a="medium",loading:l=!1,className:d,children:c,disabled:u,href:m,...h}=e,p=(0,o.cn)("inline-flex items-center justify-center rounded-xl font-medium transition-standard focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-primary-500 text-white shadow-lg shadow-primary-500/25 hover:bg-primary-600 focus:ring-primary-500",secondary:"bg-neutral-100 text-neutral-900 border border-neutral-200 hover:bg-neutral-200 focus:ring-neutral-500",ghost:"bg-transparent text-neutral-900 hover:bg-neutral-100 focus:ring-neutral-500"}[r],{small:"px-4 py-2 text-sm",medium:"px-6 py-3 text-base",large:"px-8 py-4 text-lg"}[a],l&&"cursor-wait",d);return m?(0,n.jsx)(i.default,{href:m,className:p,children:c}):(0,n.jsx)("button",{ref:t,className:p,disabled:u||l,...h,children:l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Loading..."]}):c})});l.displayName="Button"},99178:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(57437),a=r(47984);function i(e){let{children:t,hover:r=!1,padding:i="medium",className:s}=e;return(0,n.jsx)("div",{className:(0,a.cn)("bg-white border border-neutral-200 rounded-2xl shadow-sm",{small:"p-4",medium:"p-6 md:p-8",large:"p-8 md:p-12"}[i],r&&"transition-standard hover:border-primary-400 hover:shadow-lg hover:shadow-primary-500/10",s),children:t})}},47984:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var n=r(61994),a=r(53335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}}},function(e){e.O(0,[972,105,14,971,117,744],function(){return e(e.s=425)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[129,970],{62413:function(e,r,a){Promise.resolve().then(a.bind(a,819))},819:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return p}});var t=a(57437),s=a(2265),n=a(99376),i=a(27648),l=a(89345),o=a(66337),u=a(92369),d=a(10970),c=a(84226),m=a(38068),h=a(99178);function p(){console.log("Supabase URL:","https://oxdknvkltvigixofxpab.supabase.co"),console.log("Anon Key exists:",!0),console.log("Anon Key length:",208);let e=(0,n.useRouter)(),r=(0,d.createClient)(),[a,p]=(0,s.useState)(!1),[f,x]=(0,s.useState)({}),[g,b]=(0,s.useState)({email:"",password:"",full_name:""}),y=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),v=e=>e.length>=8,w=async a=>{if(a.preventDefault(),x({}),p(!0),!g.email){x({email:"Email is required"}),p(!1);return}if(!y(g.email)){x({email:"Please enter a valid email address"}),p(!1);return}if(!g.password){x({password:"Password is required"}),p(!1);return}if(!v(g.password)){x({password:"Password must be at least 8 characters"}),p(!1);return}try{let{data:a,error:t}=await r.auth.signUp({email:g.email,password:g.password,options:{data:{full_name:g.full_name||void 0},emailRedirectTo:"".concat(window.location.origin,"/dashboard")}});if(t){console.error("Signup error details:",{message:t.message,status:t.status,name:t.name}),t.message.includes("already registered")||t.message.includes("already exists")?x({email:"This email is already in use"}):t.message.includes("Invalid email")?x({email:"Please enter a valid email address"}):t.message.includes("Password")?x({password:"Password must be at least 8 characters"}):500===t.status?x({general:"Server error. Please check: 1) Database schema is set up in Supabase, 2) Trigger function handle_new_user() exists, 3) user_profiles table exists"}):x({general:t.message||"An error occurred during signup"}),p(!1);return}a.user&&(e.push("/dashboard"),e.refresh())}catch(e){console.error("Signup error:",e),x({general:"Connection lost. Please try again."}),p(!1)}};return(0,t.jsx)(h.Z,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-neutral-900 tracking-tight",children:"Create your account"}),(0,t.jsx)("p",{className:"text-neutral-600 mt-2 text-sm",children:"Start tracking your mushroom cultivation journey"})]}),f.general&&(0,t.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl",children:(0,t.jsx)("p",{className:"text-sm text-red-600",children:f.general})}),(0,t.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,t.jsx)(m.I,{type:"email",label:"Email",placeholder:"you@example.com",value:g.email,onChange:e=>b({...g,email:e.target.value}),error:f.email,icon:(0,t.jsx)(l.Z,{className:"w-5 h-5"}),required:!0,disabled:a}),(0,t.jsx)(m.I,{type:"password",label:"Password",placeholder:"••••••••",value:g.password,onChange:e=>b({...g,password:e.target.value}),error:f.password,icon:(0,t.jsx)(o.Z,{className:"w-5 h-5"}),required:!0,disabled:a}),(0,t.jsx)(m.I,{type:"text",label:"Full Name (Optional)",placeholder:"John Doe",value:g.full_name,onChange:e=>b({...g,full_name:e.target.value}),icon:(0,t.jsx)(u.Z,{className:"w-5 h-5"}),disabled:a}),(0,t.jsx)(c.Button,{type:"submit",variant:"primary",className:"w-full",loading:a,disabled:a,children:"Create Account"})]}),(0,t.jsxs)("div",{className:"text-center text-sm text-neutral-600",children:["Already have an account?"," ",(0,t.jsx)(i.default,{href:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign in"})]})]})})}},84226:function(e,r,a){"use strict";a.d(r,{Button:function(){return o}});var t=a(57437),s=a(2265),n=a(27648),i=a(51817),l=a(47984);let o=(0,s.forwardRef)((e,r)=>{let{variant:a="primary",size:s="medium",loading:o=!1,className:u,children:d,disabled:c,href:m,...h}=e,p=(0,l.cn)("inline-flex items-center justify-center rounded-xl font-medium transition-standard focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-primary-500 text-white shadow-lg shadow-primary-500/25 hover:bg-primary-600 focus:ring-primary-500",secondary:"bg-neutral-100 text-neutral-900 border border-neutral-200 hover:bg-neutral-200 focus:ring-neutral-500",ghost:"bg-transparent text-neutral-900 hover:bg-neutral-100 focus:ring-neutral-500"}[a],{small:"px-4 py-2 text-sm",medium:"px-6 py-3 text-base",large:"px-8 py-4 text-lg"}[s],o&&"cursor-wait",u);return m?(0,t.jsx)(n.default,{href:m,className:p,children:d}):(0,t.jsx)("button",{ref:r,className:p,disabled:c||o,...h,children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Loading..."]}):d})});o.displayName="Button"},99178:function(e,r,a){"use strict";a.d(r,{Z:function(){return n}});var t=a(57437),s=a(47984);function n(e){let{children:r,hover:a=!1,padding:n="medium",className:i}=e;return(0,t.jsx)("div",{className:(0,s.cn)("bg-white border border-neutral-200 rounded-2xl shadow-sm",{small:"p-4",medium:"p-6 md:p-8",large:"p-8 md:p-12"}[n],a&&"transition-standard hover:border-primary-400 hover:shadow-lg hover:shadow-primary-500/10",i),children:r})}},38068:function(e,r,a){"use strict";a.d(r,{I:function(){return i}});var t=a(57437),s=a(2265),n=a(47984);let i=(0,s.forwardRef)((e,r)=>{let{label:a,error:s,icon:i,className:l,id:o,...u}=e,d=o||"input-".concat(Math.random().toString(36).substr(2,9));return(0,t.jsxs)("div",{className:"w-full",children:[a&&(0,t.jsxs)("label",{htmlFor:d,className:"block text-sm font-medium text-neutral-900 mb-2",children:[a,u.required&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[i&&(0,t.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400",children:i}),(0,t.jsx)("input",{ref:r,id:d,className:(0,n.cn)("w-full bg-white border border-neutral-200 rounded-xl px-4 py-3","text-neutral-900 placeholder-neutral-400","transition-standard","focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-100","hover:border-neutral-300","disabled:bg-neutral-100 disabled:cursor-not-allowed",i&&"pl-10",s&&"border-red-300 focus:border-red-400 focus:ring-red-100",l),...u})]}),s&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s})]})});i.displayName="Input"},10970:function(e,r,a){"use strict";a.d(r,{createClient:function(){return s}});var t=a(95452);let s=()=>{{let e="https://oxdknvkltvigixofxpab.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im94ZGtudmtsdHZpZ2l4b2Z4cGFiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1ODc4NDgsImV4cCI6MjA4MTE2Mzg0OH0.1n3IerXktp8nyc_whCadO972Q9fy5e5U4aM-5cJdzlE";if(!e||!r)throw console.error("❌ Missing Supabase environment variables!"),console.error("URL:",e?"✓":"✗"),console.error("Anon Key:",r?"✓":"✗"),Error("NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY env variables are required")}return(0,t.createClientComponentClient)()}},47984:function(e,r,a){"use strict";a.d(r,{cn:function(){return n}});var t=a(61994),s=a(53335);function n(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,s.m6)((0,t.W)(r))}},66337:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});let t=(0,a(79205).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},89345:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});let t=(0,a(79205).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},92369:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});let t=(0,a(79205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},99376:function(e,r,a){"use strict";var t=a(35475);a.o(t,"usePathname")&&a.d(r,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(r,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[972,105,452,971,117,744],function(){return e(e.s=62413)}),_N_E=e.O()}]);
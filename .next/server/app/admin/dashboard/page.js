(()=>{var e={};e.id=427,e.ids=[427],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},54625:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(54177),t(54603),t(11506),t(35866);var a=t(23191),r=t(88716),i=t(37922),n=t.n(i),l=t(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let d=["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,54177)),"/Users/pouya/Desktop/Apps/spawnify/spawnify-mvp/app/admin/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,54603)),"/Users/pouya/Desktop/Apps/spawnify/spawnify-mvp/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"/Users/pouya/Desktop/Apps/spawnify/spawnify-mvp/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/pouya/Desktop/Apps/spawnify/spawnify-mvp/app/admin/dashboard/page.tsx"],p="/admin/dashboard/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},24593:(e,s,t)=>{Promise.resolve().then(t.bind(t,71590)),Promise.resolve().then(t.bind(t,48560)),Promise.resolve().then(t.bind(t,3679)),Promise.resolve().then(t.t.bind(t,79404,23))},71590:(e,s,t)=>{"use strict";t.d(s,{AdminStatCard:()=>l});var a=t(10326),r=t(21021),i=t(11105);let n={blue:"bg-blue-100 text-blue-600",primary:"bg-primary-100 text-primary-600",success:"bg-success-100 text-success-600",purple:"bg-purple-100 text-purple-600"};function l({title:e,value:s,icon:t,color:l}){return a.jsx(r.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-neutral-600 font-medium",children:e}),a.jsx("p",{className:"text-3xl font-bold text-neutral-900 tracking-tight",children:s})]}),a.jsx("div",{className:(0,i.cn)("w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",n[l]),children:t})]})})}},54177:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var a=t(19510),r=t(58585),i=t(19692),n=t(66601),l=t(48465);let o=(0,t(68570).createProxy)(String.raw`/Users/pouya/Desktop/Apps/spawnify/spawnify-mvp/components/admin/AdminStatCard.tsx#AdminStatCard`);var d=t(58047),c=t(57371),p=t(27162);let u=(0,p.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var m=t(83113);let h=(0,p.Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var x=t(26359);async function g(){let e=(0,i.e)(),{data:{user:s}}=await e.auth.getUser();s||(0,r.redirect)("/admin/login");let{data:t}=await e.from("admin_users").select("role").eq("user_id",s.id).single();t||(0,r.redirect)("/dashboard");let{count:p}=await e.from("user_profiles").select("*",{count:"exact",head:!0}),{count:g}=await e.from("grow_logs").select("*",{count:"exact",head:!0}),y=new Date;y.setDate(y.getDate()-30);let{data:f}=await e.from("grow_logs").select("user_id").gte("created_at",y.toISOString()),v=new Set((f||[]).map(e=>e.user_id)).size,{data:w}=await e.from("grow_logs").select("data_completeness_score"),b=w||[],j=b.length>0?Math.round(b.reduce((e,s)=>e+s.data_completeness_score,0)/b.length):0;return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900 tracking-tight",children:"Admin Dashboard"}),a.jsx("p",{className:"text-neutral-600 mt-2",children:"System overview and statistics"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(o,{title:"Total Users",value:p||0,icon:a.jsx(u,{className:"w-6 h-6"}),color:"blue"}),a.jsx(o,{title:"Total Grow Logs",value:g||0,icon:a.jsx(m.Z,{className:"w-6 h-6"}),color:"primary"}),a.jsx(o,{title:"Active Users (30d)",value:v,icon:a.jsx(h,{className:"w-6 h-6"}),color:"success"}),a.jsx(o,{title:"Avg Completeness",value:`${j}%`,icon:a.jsx(x.Z,{className:"w-6 h-6"}),color:"purple"})]}),(0,a.jsxs)(n.Z,{className:"p-8",children:[a.jsx("h2",{className:"text-xl font-bold text-neutral-900 mb-6",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(c.default,{href:"/admin/users",children:(0,a.jsxs)(l.z,{variant:"secondary",className:"w-full",children:[a.jsx(u,{className:"w-4 h-4 mr-2"}),"Manage Users"]})}),a.jsx(c.default,{href:"/admin/grow-logs",children:(0,a.jsxs)(l.z,{variant:"secondary",className:"w-full",children:[a.jsx(m.Z,{className:"w-4 h-4 mr-2"}),"View All Logs"]})}),a.jsx(d.b,{logs:b,variant:"secondary"})]})]})]})}},48465:(e,s,t)=>{"use strict";t.d(s,{z:()=>a});let a=(0,t(68570).createProxy)(String.raw`/Users/pouya/Desktop/Apps/spawnify/spawnify-mvp/components/ui/Button.tsx#Button`)},27162:(e,s,t)=>{"use strict";t.d(s,{Z:()=>o});var a=t(71159);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(...e)=>e.filter((e,s,t)=>!!e&&t.indexOf(e)===s).join(" ");var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:l="",children:o,iconNode:d,...c},p)=>(0,a.createElement)("svg",{ref:p,...n,width:s,height:s,stroke:e,strokeWidth:r?24*Number(t)/Number(s):t,className:i("lucide",l),...c},[...d.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(o)?o:[o]])),o=(e,s)=>{let t=(0,a.forwardRef)(({className:t,...n},o)=>(0,a.createElement)(l,{ref:o,iconNode:s,className:i(`lucide-${r(e)}`,t),...n}));return t.displayName=`${e}`,t}},83113:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(27162).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},26359:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(27162).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},57371:(e,s,t)=>{"use strict";t.d(s,{default:()=>r.a});var a=t(670),r=t.n(a)},670:(e,s,t)=>{"use strict";let{createProxy:a}=t(68570);e.exports=a("/Users/pouya/Desktop/Apps/spawnify/spawnify-mvp/node_modules/next/dist/client/link.js")}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[276,281,236,545,958,283,453,527],()=>t(54625));module.exports=a})();
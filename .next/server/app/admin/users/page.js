(()=>{var e={};e.id=674,e.ids=[674],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},20603:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(51055),s(54603),s(11506),s(35866);var r=s(23191),a=s(88716),n=s(37922),l=s.n(n),i=s(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["admin",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,51055)),"/Users/pouya/Desktop/Apps/spawnify/spawnify-mvp/app/admin/users/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,54603)),"/Users/pouya/Desktop/Apps/spawnify/spawnify-mvp/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,11506)),"/Users/pouya/Desktop/Apps/spawnify/spawnify-mvp/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/pouya/Desktop/Apps/spawnify/spawnify-mvp/app/admin/users/page.tsx"],u="/admin/users/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/users/page",pathname:"/admin/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},40278:(e,t,s)=>{Promise.resolve().then(s.bind(s,53155))},43102:(e,t,s)=>{Promise.resolve().then(s.bind(s,70007)),Promise.resolve().then(s.bind(s,62247))},70704:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},53168:()=>{},53155:(e,t,s)=>{"use strict";s.d(t,{AdminNav:()=>h});var r=s(10326),a=s(90434),n=s(35047),l=s(58038);let i=(0,s(62881).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var o=s(24061),d=s(36283),c=s(71810),u=s(3679),m=s(11105),p=s(42945);function x({href:e,icon:t,children:s}){let l=(0,n.usePathname)()===e;return(0,r.jsxs)(a.default,{href:e,className:(0,m.cn)("flex items-center gap-2 text-sm transition-colors px-3 py-2 rounded-lg",l?"text-primary-400 font-medium bg-neutral-800":"text-neutral-400 hover:text-white hover:bg-neutral-800"),children:[t,s]})}function h(){let e=(0,n.useRouter)(),t=(0,p.createClient)(),s=async()=>{await t.auth.signOut(),e.push("/admin/login"),e.refresh()};return r.jsx("nav",{className:"sticky top-0 z-50 bg-neutral-900 text-white border-b border-neutral-800",children:r.jsx("div",{className:"container mx-auto px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(l.Z,{className:"w-6 h-6 text-primary-400"}),r.jsx(a.default,{href:"/admin/dashboard",className:"text-xl font-bold hover:text-primary-400 transition-colors",children:"Spawnify Admin"})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center gap-2",children:[r.jsx(x,{href:"/admin/dashboard",icon:r.jsx(i,{className:"w-4 h-4"}),children:"Dashboard"}),r.jsx(x,{href:"/admin/users",icon:r.jsx(o.Z,{className:"w-4 h-4"}),children:"Users"}),r.jsx(x,{href:"/admin/grow-logs",icon:r.jsx(d.Z,{className:"w-4 h-4"}),children:"Grow Logs"})]}),(0,r.jsxs)(u.Button,{variant:"ghost",size:"small",onClick:s,className:"text-neutral-400 hover:text-white",children:[r.jsx(c.Z,{className:"w-4 h-4 mr-2"}),"Logout"]})]})})})}},70007:(e,t,s)=>{"use strict";s.d(t,{UserFilters:()=>u});var r=s(10326),a=s(17577),n=s(35047),l=s(88307),i=s(21021),o=s(84231),d=s(38690),c=s(3679);function u(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)(),[s,u]=(0,a.useState)(t.get("search")||""),[m,p]=(0,a.useState)(t.get("level")||""),[x,h]=(0,a.useState)(t.get("sort")||"created_at");function f(){let t=new URLSearchParams;s&&t.set("search",s),m&&t.set("level",m),x&&t.set("sort",x),e.push(`/admin/users?${t.toString()}`)}return r.jsx(i.Z,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[r.jsx("div",{className:"flex-1 w-full",children:r.jsx(o.I,{label:"Search by email",placeholder:"user@example.com",value:s,onChange:e=>u(e.target.value),icon:r.jsx(l.Z,{className:"w-5 h-5"}),onKeyDown:e=>{"Enter"===e.key&&f()}})}),r.jsx("div",{className:"flex-1 w-full",children:r.jsx(d.P,{label:"Filter by tier",options:[{value:"",label:"All Tiers"},{value:"bronze",label:"Bronze"},{value:"silver",label:"Silver"},{value:"gold",label:"Gold"}],value:m,onChange:e=>p(e)})}),r.jsx("div",{className:"flex-1 w-full",children:r.jsx(d.P,{label:"Sort by",options:[{value:"created_at",label:"Join Date"},{value:"total_points",label:"Points"},{value:"email",label:"Email"}],value:x,onChange:e=>h(e)})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(c.Button,{onClick:f,variant:"primary",size:"medium",children:"Apply"}),r.jsx(c.Button,{onClick:function(){e.push("/admin/users")},variant:"ghost",size:"medium",children:"Clear"})]})]})})}},62247:(e,t,s)=>{"use strict";s.d(t,{UserRow:()=>o});var r=s(10326),a=s(35047),n=s(2453),l=s(85833),i=s(3679);function o({user:e}){let t=(0,a.useRouter)();return(0,r.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-neutral-900",children:e.email}),r.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:e.full_name||"â€”"}),r.jsx("td",{className:"px-6 py-4",children:r.jsx(l.C,{variant:e.verification_level,children:e.verification_level.charAt(0).toUpperCase()+e.verification_level.slice(1)})}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-neutral-900",children:e.total_points}),r.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:(0,n.WU)(new Date(e.created_at),"MMM dd, yyyy")}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx(i.Button,{variant:"ghost",size:"small",onClick:()=>t.push(`/admin/grow-logs?user=${e.id}`),children:"View Logs"})})]})}},85833:(e,t,s)=>{"use strict";s.d(t,{C:()=>n});var r=s(10326),a=s(11105);function n({variant:e,children:t,className:s}){return r.jsx("span",{className:(0,a.cn)("inline-flex items-center rounded-full px-3 py-1 text-xs font-medium",{bronze:"bg-neutral-200 text-neutral-700",silver:"bg-neutral-300 text-neutral-800",gold:"bg-yellow-100 text-yellow-800",success:"bg-success-100 text-success-700",default:"bg-neutral-100 text-neutral-700"}[e],s),children:t})}},3679:(e,t,s)=>{"use strict";s.d(t,{Button:()=>o});var r=s(10326),a=s(17577),n=s(90434),l=s(77506),i=s(11105);let o=(0,a.forwardRef)(({variant:e="primary",size:t="medium",loading:s=!1,className:a,children:o,disabled:d,href:c,...u},m)=>{let p=(0,i.cn)("inline-flex items-center justify-center rounded-xl font-medium transition-standard focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-primary-500 text-white shadow-lg shadow-primary-500/25 hover:bg-primary-600 focus:ring-primary-500",secondary:"bg-neutral-100 text-neutral-900 border border-neutral-200 hover:bg-neutral-200 focus:ring-neutral-500",ghost:"bg-transparent text-neutral-900 hover:bg-neutral-100 focus:ring-neutral-500"}[e],{small:"px-4 py-2 text-sm",medium:"px-6 py-3 text-base",large:"px-8 py-4 text-lg"}[t],s&&"cursor-wait",a);return c?r.jsx(n.default,{href:c,className:p,children:o}):r.jsx("button",{ref:m,className:p,disabled:d||s,...u,children:s?(0,r.jsxs)(r.Fragment,{children:[r.jsx(l.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Loading..."]}):o})});o.displayName="Button"},21021:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(10326),a=s(11105);function n({children:e,hover:t=!1,padding:s="medium",className:n}){return r.jsx("div",{className:(0,a.cn)("bg-white border border-neutral-200 rounded-2xl shadow-sm",{small:"p-4",medium:"p-6 md:p-8",large:"p-8 md:p-12"}[s],t&&"transition-standard hover:border-primary-400 hover:shadow-lg hover:shadow-primary-500/10",n),children:e})}},84231:(e,t,s)=>{"use strict";s.d(t,{I:()=>l});var r=s(10326),a=s(17577),n=s(11105);let l=(0,a.forwardRef)(({label:e,error:t,icon:s,className:a,id:l,...i},o)=>{let d=l||`input-${Math.random().toString(36).substr(2,9)}`;return(0,r.jsxs)("div",{className:"w-full",children:[e&&(0,r.jsxs)("label",{htmlFor:d,className:"block text-sm font-medium text-neutral-900 mb-2",children:[e,i.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[s&&r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400",children:s}),r.jsx("input",{ref:o,id:d,className:(0,n.cn)("w-full bg-white border border-neutral-200 rounded-xl px-4 py-3","text-neutral-900 placeholder-neutral-400","transition-standard","focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-100","hover:border-neutral-300","disabled:bg-neutral-100 disabled:cursor-not-allowed",s&&"pl-10",t&&"border-red-300 focus:border-red-400 focus:ring-red-100",a),...i})]}),t&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})});l.displayName="Input"},38690:(e,t,s)=>{"use strict";s.d(t,{P:()=>i});var r=s(10326),a=s(17577);let n=(0,s(62881).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var l=s(11105);let i=(0,a.forwardRef)(({label:e,error:t,options:s,className:a,id:i,onChange:o,value:d,...c},u)=>{let m=i||`select-${Math.random().toString(36).substr(2,9)}`;return(0,r.jsxs)("div",{className:"w-full",children:[e&&(0,r.jsxs)("label",{htmlFor:m,className:"block text-sm font-medium text-neutral-900 mb-2",children:[e,c.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("select",{ref:u,id:m,value:d,className:(0,l.cn)("w-full bg-white border border-neutral-200 rounded-xl px-4 py-3","text-neutral-900","transition-standard","focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-100","hover:border-neutral-300","disabled:bg-neutral-100 disabled:cursor-not-allowed","appearance-none pr-10",t&&"border-red-300 focus:border-red-400 focus:ring-red-100",a),onChange:e=>{o&&o(e.target.value)},...c,children:s.map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))}),r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-neutral-400",children:r.jsx(n,{className:"w-5 h-5"})})]}),t&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})});i.displayName="Select"},42945:(e,t,s)=>{"use strict";s.d(t,{createClient:()=>a});var r=s(59813);let a=()=>(0,r.createClientComponentClient)()},11105:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(41135),a=s(31009);function n(...e){return(0,a.m6)((0,r.W)(e))}},36283:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},88307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},58038:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},24061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},54603:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(19510),a=s(58585),n=s(19692);let l=(0,s(68570).createProxy)(String.raw`/Users/pouya/Desktop/Apps/spawnify/spawnify-mvp/components/admin/AdminNav.tsx#AdminNav`);async function i({children:e}){let t=(0,n.e)(),{data:{user:s}}=await t.auth.getUser();if(s){let{data:e}=await t.from("admin_users").select("role").eq("user_id",s.id).single();e||(0,a.redirect)("/dashboard")}return(0,r.jsxs)("div",{className:"min-h-screen bg-neutral-50",children:[s&&r.jsx(l,{}),r.jsx("main",{className:`container mx-auto px-6 py-8 md:px-8 lg:px-12 ${s?"":"flex items-center justify-center min-h-screen"}`,children:e})]})}},51055:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(19510),a=s(58585),n=s(19692),l=s(66601),i=s(68570);let o=(0,i.createProxy)(String.raw`/Users/pouya/Desktop/Apps/spawnify/spawnify-mvp/components/admin/UserFilters.tsx#UserFilters`),d=(0,i.createProxy)(String.raw`/Users/pouya/Desktop/Apps/spawnify/spawnify-mvp/components/admin/UserRow.tsx#UserRow`);async function c({searchParams:e}){let t=(0,n.e)(),{data:{user:s}}=await t.auth.getUser();s||(0,a.redirect)("/admin/login");let{data:i}=await t.from("admin_users").select("role").eq("user_id",s.id).single();i||(0,a.redirect)("/dashboard");let c=t.from("user_profiles").select("*",{count:"exact"});e.search&&(c=c.ilike("email",`%${e.search}%`)),e.level&&(c=c.eq("verification_level",e.level));let u=e.sort||"created_at";c=c.order(u,{ascending:"email"===u});let{data:m,count:p}=await c,x=m||[];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-neutral-900 tracking-tight",children:"User Management"}),r.jsx("p",{className:"text-neutral-600 mt-1",children:"Manage and view all platform users"})]}),(0,r.jsxs)("div",{className:"text-sm text-neutral-600",children:[p||0," total users"]})]}),r.jsx(o,{}),x.length>0?r.jsx(l.Z,{className:"overflow-hidden p-0",children:r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-neutral-600",children:"Email"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-neutral-600",children:"Full Name"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-neutral-600",children:"Tier"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-neutral-600",children:"Points"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-neutral-600",children:"Joined"}),r.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-neutral-600",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-neutral-200",children:x.map(e=>r.jsx(d,{user:e},e.id))})]})})}):r.jsx(l.Z,{className:"p-12 text-center",children:r.jsx("p",{className:"text-neutral-600",children:"No users found"})})]})}},11506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>l});var r=s(19510),a=s(44111),n=s.n(a);s(67272);let l={title:"Spawnify - Track Mushroom Grows, Advance Science",description:"Join thousands of growers documenting their cultivation journey. Your data helps power AI research and optimize growing conditions worldwide.",keywords:"mushroom cultivation, grow tracking, mycology, mushroom growing, scientific research"};function i({children:e}){return r.jsx("html",{lang:"en",className:n().variable,children:r.jsx("body",{children:e})})}},66601:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(19510),a=s(75363);function n({children:e,hover:t=!1,padding:s="medium",className:n}){return r.jsx("div",{className:(0,a.cn)("bg-white border border-neutral-200 rounded-2xl shadow-sm",{small:"p-4",medium:"p-6 md:p-8",large:"p-8 md:p-12"}[s],t&&"transition-standard hover:border-primary-400 hover:shadow-lg hover:shadow-primary-500/10",n),children:e})}},19692:(e,t,s)=>{"use strict";s.d(t,{e:()=>n});var r=s(20344),a=s(71615);let n=()=>(0,r.createServerComponentClient)({cookies:a.cookies})},75363:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(55761),a=s(62386);function n(...e){return(0,a.m6)((0,r.W)(e))}},67272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,281,236,545,958,283,453],()=>s(20603));module.exports=r})();
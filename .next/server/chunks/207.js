exports.id=207,exports.ids=[207],exports.modules={37493:(e,t,r)=>{Promise.resolve().then(r.bind(r,32279)),Promise.resolve().then(r.t.bind(r,79404,23))},17838:(e,t,r)=>{Promise.resolve().then(r.bind(r,29068))},70704:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},53168:()=>{},32279:(e,t,r)=>{"use strict";r.d(t,{LogoutButton:()=>d});var a=r(10326),s=r(17577),l=r(35047),o=r(71810),n=r(42945),i=r(3679);function d({variant:e="ghost",size:t="medium",showIcon:r=!0,className:d}){let u=(0,l.useRouter)(),c=(0,n.createClient)(),[m,h]=(0,s.useState)(!1),p=async()=>{h(!0);try{await c.auth.signOut(),u.push("/login"),u.refresh()}catch(e){console.error("Logout error:",e),h(!1)}};return(0,a.jsxs)(i.Button,{variant:e,size:t,onClick:p,loading:m,disabled:m,className:d,children:[r&&a.jsx(o.Z,{className:"w-4 h-4 mr-2"}),"Logout"]})}},29068:(e,t,r)=>{"use strict";r.d(t,{GrowLogForm:()=>q});var a=r(10326),s=r(17577),l=r(35047),o=r(74723),n=r(2453),i=r(42945),d=r(21021),u=r(84231),c=r(38690),m=r(11105);let h=(0,s.forwardRef)(({label:e,error:t,className:r,id:s,...l},o)=>{let n=s||`textarea-${Math.random().toString(36).substr(2,9)}`;return(0,a.jsxs)("div",{className:"w-full",children:[e&&(0,a.jsxs)("label",{htmlFor:n,className:"block text-sm font-medium text-neutral-900 mb-2",children:[e,l.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsx("textarea",{ref:o,id:n,className:(0,m.cn)("w-full bg-white border border-neutral-200 rounded-xl px-4 py-3","text-neutral-900 placeholder-neutral-400","transition-standard","focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-100","hover:border-neutral-300","disabled:bg-neutral-100 disabled:cursor-not-allowed","resize-y min-h-[6rem]",t&&"border-red-300 focus:border-red-400 focus:ring-red-100",r),...l}),t&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}),l.maxLength&&(0,a.jsxs)("p",{className:"mt-1 text-xs text-neutral-500 text-right",children:[l.value?.toString().length||0," / ",l.maxLength," characters"]})]})});h.displayName="Textarea";var p=r(3679),g=r(62881);let x=(0,g.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),b=(0,g.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),v=(0,g.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function f({photos:e,onChange:t}){let[r,l]=(0,s.useState)(!1),[o,n]=(0,s.useState)([]),i=(0,s.useRef)(null);function d(r){let a=[],s=[];r.forEach(e=>{let t=e.type.startsWith("image/")?e.size>10485760?"File size must be less than 10MB":null:"File must be an image (PNG, JPG, JPEG)";t?a.push(`${e.name}: ${t}`):s.push(e)}),a.length>0&&(n(a),setTimeout(()=>n([]),5e3)),s.length>0&&t([...e,...s])}return(0,a.jsxs)("div",{className:"space-y-4",children:[o.length>0&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl",children:o.map((e,t)=>a.jsx("p",{className:"text-sm text-red-600",children:e},t))}),(0,a.jsxs)("div",{className:(0,m.cn)("border-2 border-dashed rounded-xl p-12 text-center transition-standard",r?"border-primary-500 bg-primary-50":"border-neutral-300 hover:border-neutral-400"),onDragOver:e=>{e.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:function(e){e.preventDefault(),l(!1),d(Array.from(e.dataTransfer.files))},children:[a.jsx(x,{className:"w-12 h-12 mx-auto text-neutral-400 mb-4"}),a.jsx("p",{className:"text-neutral-600 mb-2 font-medium",children:"Drag & drop photos here, or click to select"}),a.jsx("p",{className:"text-sm text-neutral-500 mb-4",children:"PNG, JPG, JPEG up to 10MB each"}),a.jsx("input",{ref:i,type:"file",multiple:!0,accept:"image/png,image/jpeg,image/jpg",className:"hidden",id:"file-upload",onChange:function(e){d(Array.from(e.target.files||[])),i.current&&(i.current.value="")}}),a.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:(0,a.jsxs)(p.Button,{type:"button",variant:"secondary",className:"mt-2",onClick:()=>i.current?.click(),children:[a.jsx(b,{className:"w-4 h-4 mr-2"}),"Select Files"]})})]}),e.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.map((r,s)=>(0,a.jsxs)("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-neutral-100",children:a.jsx("img",{src:URL.createObjectURL(r),alt:`Preview ${s+1}`,className:"w-full h-full object-cover"})}),a.jsx("button",{type:"button",onClick:()=>{t(e.filter((e,t)=>t!==s))},className:"absolute top-2 right-2 w-8 h-8 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center hover:bg-red-600","aria-label":"Remove photo",children:a.jsx(v,{className:"w-4 h-4"})}),a.jsx("p",{className:"mt-1 text-xs text-neutral-500 truncate",children:r.name})]},s))})]})}var y=r(69029),j=r.n(y);function w({newPhotos:e,existingPhotos:t,onNewPhotosChange:r,onExistingPhotosChange:l}){let[o,n]=(0,s.useState)(!1),[i,d]=(0,s.useState)([]),u=(0,s.useRef)(null);function c(t){let a=[],s=[];t.forEach(e=>{let t=e.type.startsWith("image/")?e.size>10485760?"File size must be less than 10MB":null:"File must be an image (PNG, JPG, JPEG)";t?a.push(`${e.name}: ${t}`):s.push(e)}),a.length>0&&(d(a),setTimeout(()=>d([]),5e3)),s.length>0&&r([...e,...s])}return(0,a.jsxs)("div",{className:"space-y-4",children:[i.length>0&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl",children:i.map((e,t)=>a.jsx("p",{className:"text-sm text-red-600",children:e},t))}),t.length>0&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-neutral-600 mb-3",children:"Existing Photos"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map((e,r)=>(0,a.jsxs)("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-neutral-100",children:a.jsx(j(),{src:e,alt:`Existing photo ${r+1}`,fill:!0,className:"object-cover",sizes:"(max-width: 640px) 50vw, 25vw"})}),a.jsx("button",{type:"button",onClick:()=>{l(t.filter((e,t)=>t!==r))},className:"absolute top-2 right-2 w-8 h-8 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center hover:bg-red-600","aria-label":"Remove photo",children:a.jsx(v,{className:"w-4 h-4"})})]},r))})]}),(0,a.jsxs)("div",{className:(0,m.cn)("border-2 border-dashed rounded-xl p-12 text-center transition-standard",o?"border-primary-500 bg-primary-50":"border-neutral-300 hover:border-neutral-400"),onDragOver:e=>{e.preventDefault(),n(!0)},onDragLeave:()=>n(!1),onDrop:function(e){e.preventDefault(),n(!1),c(Array.from(e.dataTransfer.files))},children:[a.jsx(x,{className:"w-12 h-12 mx-auto text-neutral-400 mb-4"}),a.jsx("p",{className:"text-neutral-600 mb-2 font-medium",children:"Drag & drop photos here, or click to select"}),a.jsx("p",{className:"text-sm text-neutral-500 mb-4",children:"PNG, JPG, JPEG up to 10MB each"}),a.jsx("input",{ref:u,type:"file",multiple:!0,accept:"image/png,image/jpeg,image/jpg",className:"hidden",id:"file-upload",onChange:function(e){c(Array.from(e.target.files||[])),u.current&&(u.current.value="")}}),a.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:(0,a.jsxs)(p.Button,{type:"button",variant:"secondary",className:"mt-2",onClick:()=>u.current?.click(),children:[a.jsx(b,{className:"w-4 h-4 mr-2"}),"Select Files"]})})]}),e.length>0&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-neutral-600 mb-3",children:"New Photos"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.map((t,s)=>(0,a.jsxs)("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-neutral-100",children:a.jsx("img",{src:URL.createObjectURL(t),alt:`Preview ${s+1}`,className:"w-full h-full object-cover"})}),a.jsx("button",{type:"button",onClick:()=>{r(e.filter((e,t)=>t!==s))},className:"absolute top-2 right-2 w-8 h-8 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center hover:bg-red-600","aria-label":"Remove photo",children:a.jsx(v,{className:"w-4 h-4"})}),a.jsx("p",{className:"mt-1 text-xs text-neutral-500 truncate",children:t.name})]},s))})]})]})}async function N(e,t){let r=(0,i.createClient)(),a=[];for(let s of e)try{let e=Date.now(),l=s.name.split(".").pop()?.toLowerCase()||"jpg",o=`${e}-${Math.random().toString(36).substring(7)}.${l}`,n=`${t}/${o}`,{error:i}=await r.storage.from("grow-photos").upload(n,s,{cacheControl:"3600",upsert:!1});if(i){console.error("Upload error:",i);continue}let{data:{publicUrl:d}}=r.storage.from("grow-photos").getPublicUrl(n);d&&a.push(d)}catch(e){console.error("Error uploading photo:",e)}return a}var _=r(96038);let k=(0,g.Z)("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),S=(0,g.Z)("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),C=(0,g.Z)("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),P=(0,g.Z)("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),M=(0,g.Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);function q({mode:e,initialData:t}){let r=(0,l.useRouter)(),m=(0,i.createClient)(),[g,x]=(0,s.useState)(!1),[b,v]=(0,s.useState)(0),[y,j]=(0,s.useState)([]),[q,L]=(0,s.useState)(t?.photos||[]),[F,G]=(0,s.useState)(""),D=t?{growth_stage:t.growth_stage,log_date:(0,n.WU)(new Date(t.log_date),"yyyy-MM-dd"),strain:t.strain,substrate:t.substrate,substrate_ratio:t.substrate_ratio||"",inoculation_method:t.inoculation_method,inoculation_details:t.inoculation_details||"",growing_method:t.growing_method,tek_method:t.tek_method||"",tek_notes:t.tek_notes||"",temperature:t.temperature||void 0,humidity:t.humidity||void 0,ph_level:t.ph_level||void 0,weight:t.weight||void 0,light_hours_daily:t.light_hours_daily||void 0,notes:t.notes||"",photos:t.photos||[]}:{growth_stage:"",log_date:(0,n.WU)(new Date,"yyyy-MM-dd"),strain:"",substrate:"",inoculation_method:"",growing_method:""},{register:B,handleSubmit:z,watch:A,control:Z,formState:{errors:I},setValue:R}=(0,o.cI)({defaultValues:D});async function O(a){x(!0),G("");try{var s;let l;let{data:{user:o}}=await m.auth.getUser();if(!o){G("You must be logged in to create a grow log"),x(!1);return}let n=[];if(y.length>0&&(n=await N(y,o.id),0===n.length&&y.length>0)){G("Failed to upload photos. Please try again."),x(!1);return}let i=[...q,...n],d=(s={...a,photos:i},l=60,s.substrate_ratio?.trim()&&(l+=10),s.inoculation_details?.trim()&&(l+=10),void 0!==s.light_hours_daily&&null!==s.light_hours_daily&&(l+=10),s.tek_method?.trim()&&(l+=10),s.tek_notes&&s.tek_notes.length>100&&(l+=15),s.notes&&s.notes.length>50&&(l+=5),s.photos&&s.photos.length>0&&(l+=10),Math.min(l,100)),u={growth_stage:a.growth_stage,log_date:a.log_date,strain:a.strain,substrate:a.substrate,inoculation_method:a.inoculation_method,growing_method:a.growing_method,data_completeness_score:d};if(a.substrate_ratio?u.substrate_ratio=a.substrate_ratio:u.substrate_ratio=null,a.inoculation_details?u.inoculation_details=a.inoculation_details:u.inoculation_details=null,void 0!==a.temperature&&null!==a.temperature?u.temperature=parseFloat(a.temperature.toString()):u.temperature=null,void 0!==a.humidity&&null!==a.humidity?u.humidity=parseFloat(a.humidity.toString()):u.humidity=null,void 0!==a.ph_level&&null!==a.ph_level?u.ph_level=parseFloat(a.ph_level.toString()):u.ph_level=null,void 0!==a.weight&&null!==a.weight?u.weight=parseFloat(a.weight.toString()):u.weight=null,void 0!==a.light_hours_daily&&null!==a.light_hours_daily?u.light_hours_daily=parseFloat(a.light_hours_daily.toString()):u.light_hours_daily=null,a.tek_method?u.tek_method=a.tek_method:u.tek_method=null,a.tek_notes?u.tek_notes=a.tek_notes:u.tek_notes=null,a.notes?u.notes=a.notes:u.notes=null,u.photos=i.length>0?i:null,"edit"===e&&t?.id){let{error:e}=await m.from("grow_logs").update(u).eq("id",t.id).eq("user_id",o.id);if(e){console.error("Database error:",e),G(e.message||"Failed to update grow log. Please try again."),x(!1);return}r.push(`/dashboard/grow-logs/${t.id}`),r.refresh()}else{u.user_id=o.id;let{data:e,error:t}=await m.from("grow_logs").insert(u).select().single();if(t){console.error("Database error:",t),G(t.message||"Failed to save grow log. Please try again."),x(!1);return}let a=d>=80?25:10,{error:s}=await m.rpc("add_user_points",{p_user_id:o.id,p_points:a});s&&console.error("Points error:",s),r.push("/dashboard/grow-logs"),r.refresh()}}catch(e){console.error("Submit error:",e),G(e.message||"An unexpected error occurred. Please try again."),x(!1)}}return A(),(0,a.jsxs)("form",{onSubmit:z(O),className:"space-y-8",children:[F&&a.jsx(d.Z,{className:"p-4 bg-red-50 border-red-200",children:a.jsx("p",{className:"text-sm text-red-600",children:F})}),a.jsx(d.Z,{className:"p-6 bg-primary-50 border-primary-200",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-primary-900",children:"Data Completeness"}),(0,a.jsxs)("span",{className:"text-2xl font-bold text-primary-900",children:[b,"%"]})]}),a.jsx("div",{className:"h-3 bg-white rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary-600 transition-all duration-300",style:{width:`${b}%`}})}),a.jsx("p",{className:"text-xs text-primary-800",children:b>=80?"Excellent! You'll earn 25 points for this complete log.":"Complete more fields to earn 25 points (currently 10 points)"})]})}),(0,a.jsxs)(d.Z,{className:"p-8 space-y-6",children:[a.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"Required Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(o.Qr,{name:"growth_stage",control:Z,rules:{required:"Growth stage is required"},render:({field:e})=>a.jsx(c.P,{label:"Growth Stage",options:_.cu.map(e=>({value:e,label:e})),required:!0,error:I.growth_stage?.message,value:e.value||"",onChange:t=>e.onChange(t)})}),a.jsx(u.I,{type:"date",label:"Log Date",required:!0,error:I.log_date?.message,...B("log_date",{required:"Date is required"})}),a.jsx(o.Qr,{name:"strain",control:Z,rules:{required:"Strain is required"},render:({field:e})=>a.jsx(c.P,{label:"Strain",options:_.Hk.map(e=>({value:e,label:e})),required:!0,error:I.strain?.message,value:e.value||"",onChange:t=>e.onChange(t)})}),a.jsx(o.Qr,{name:"substrate",control:Z,rules:{required:"Substrate is required"},render:({field:e})=>a.jsx(c.P,{label:"Substrate",options:_.jp.map(e=>({value:e,label:e})),required:!0,error:I.substrate?.message,value:e.value||"",onChange:t=>e.onChange(t)})}),a.jsx(o.Qr,{name:"inoculation_method",control:Z,rules:{required:"Inoculation method is required"},render:({field:e})=>a.jsx(c.P,{label:"Inoculation Method",options:_.ny.map(e=>({value:e,label:e})),required:!0,error:I.inoculation_method?.message,value:e.value||"",onChange:t=>e.onChange(t)})}),a.jsx(o.Qr,{name:"growing_method",control:Z,rules:{required:"Growing method is required"},render:({field:e})=>a.jsx(c.P,{label:"Growing Method",options:_.iJ.map(e=>({value:e,label:e})),required:!0,error:I.growing_method?.message,value:e.value||"",onChange:t=>e.onChange(t)})})]})]}),(0,a.jsxs)(d.Z,{className:"p-8 space-y-6",children:[a.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"Optional Details (Boost your completeness score!)"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(u.I,{label:"Substrate Ratio",placeholder:"e.g., 5:1:1 (coco:verm:gypsum)",...B("substrate_ratio")}),a.jsx(u.I,{label:"Inoculation Details",placeholder:"e.g., 2cc per jar, 10% spawn rate",...B("inoculation_details")}),a.jsx(u.I,{type:"number",step:"0.1",label:"Temperature (\xb0F)",placeholder:"e.g., 75.5",icon:a.jsx(k,{className:"w-5 h-5"}),...B("temperature",{valueAsNumber:!0,min:{value:0,message:"Temperature must be positive"}}),error:I.temperature?.message}),a.jsx(u.I,{type:"number",step:"0.1",label:"Humidity (%)",placeholder:"e.g., 90.0",icon:a.jsx(S,{className:"w-5 h-5"}),...B("humidity",{valueAsNumber:!0,min:{value:0,message:"Humidity must be positive"},max:{value:100,message:"Humidity cannot exceed 100%"}}),error:I.humidity?.message}),a.jsx(u.I,{type:"number",step:"0.1",min:"0",max:"14",label:"pH Level",placeholder:"e.g., 7.0",icon:a.jsx(C,{className:"w-5 h-5"}),...B("ph_level",{valueAsNumber:!0,min:{value:0,message:"pH must be between 0 and 14"},max:{value:14,message:"pH must be between 0 and 14"}}),error:I.ph_level?.message}),a.jsx(u.I,{type:"number",step:"0.01",label:"Weight (grams)",placeholder:"e.g., 150.5",icon:a.jsx(P,{className:"w-5 h-5"}),...B("weight",{valueAsNumber:!0,min:{value:0,message:"Weight must be positive"}}),error:I.weight?.message}),a.jsx(u.I,{type:"number",step:"0.1",min:"0",max:"12",label:"Light Hours per Day",placeholder:"e.g., 12.0",icon:a.jsx(M,{className:"w-5 h-5"}),...B("light_hours_daily",{valueAsNumber:!0,min:{value:0,message:"Light hours must be between 0 and 12"},max:{value:12,message:"Light hours must be between 0 and 12"}}),error:I.light_hours_daily?.message})]})]}),(0,a.jsxs)(d.Z,{className:"p-8 space-y-6",children:[a.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"TEK & Technique"}),a.jsx(o.Qr,{name:"tek_method",control:Z,render:({field:e})=>a.jsx(c.P,{label:"TEK Method",options:[{value:"",label:"Select a TEK..."},..._.KN.map(e=>({value:e,label:e}))],value:e.value||"",onChange:t=>e.onChange(t)})}),a.jsx(h,{label:"Technique Notes",placeholder:"Share your specific modifications, ratios, or observations. Detailed notes (>100 chars) earn bonus points!",rows:6,maxLength:1e3,...B("tek_notes")})]}),(0,a.jsxs)(d.Z,{className:"p-8 space-y-6",children:[a.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"Photos"}),a.jsx("p",{className:"text-sm text-neutral-600",children:"Upload photos of your grow. Each photo adds to your completeness score!"}),"edit"===e?a.jsx(w,{newPhotos:y,existingPhotos:q,onNewPhotosChange:j,onExistingPhotosChange:L}):a.jsx(f,{photos:y,onChange:j})]}),(0,a.jsxs)(d.Z,{className:"p-8 space-y-6",children:[a.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"General Notes"}),a.jsx(h,{placeholder:"Add any additional notes about this grow log entry. Notes over 50 characters earn bonus points!",rows:4,maxLength:2e3,...B("notes")})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-end",children:[a.jsx(p.Button,{type:"button",variant:"ghost",onClick:()=>r.back(),disabled:g,children:"Cancel"}),a.jsx(p.Button,{type:"submit",variant:"primary",loading:g,disabled:g,children:"create"===e?"Create Log":"Save Changes"})]})]})}},3679:(e,t,r)=>{"use strict";r.d(t,{Button:()=>i});var a=r(10326),s=r(17577),l=r(90434),o=r(77506),n=r(11105);let i=(0,s.forwardRef)(({variant:e="primary",size:t="medium",loading:r=!1,className:s,children:i,disabled:d,href:u,...c},m)=>{let h=(0,n.cn)("inline-flex items-center justify-center rounded-xl font-medium transition-standard focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-primary-500 text-white shadow-lg shadow-primary-500/25 hover:bg-primary-600 focus:ring-primary-500",secondary:"bg-neutral-100 text-neutral-900 border border-neutral-200 hover:bg-neutral-200 focus:ring-neutral-500",ghost:"bg-transparent text-neutral-900 hover:bg-neutral-100 focus:ring-neutral-500"}[e],{small:"px-4 py-2 text-sm",medium:"px-6 py-3 text-base",large:"px-8 py-4 text-lg"}[t],r&&"cursor-wait",s);return u?a.jsx(l.default,{href:u,className:h,children:i}):a.jsx("button",{ref:m,className:h,disabled:d||r,...c,children:r?(0,a.jsxs)(a.Fragment,{children:[a.jsx(o.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Loading..."]}):i})});i.displayName="Button"},21021:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var a=r(10326),s=r(11105);function l({children:e,hover:t=!1,padding:r="medium",className:l}){return a.jsx("div",{className:(0,s.cn)("bg-white border border-neutral-200 rounded-2xl shadow-sm",{small:"p-4",medium:"p-6 md:p-8",large:"p-8 md:p-12"}[r],t&&"transition-standard hover:border-primary-400 hover:shadow-lg hover:shadow-primary-500/10",l),children:e})}},84231:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var a=r(10326),s=r(17577),l=r(11105);let o=(0,s.forwardRef)(({label:e,error:t,icon:r,className:s,id:o,...n},i)=>{let d=o||`input-${Math.random().toString(36).substr(2,9)}`;return(0,a.jsxs)("div",{className:"w-full",children:[e&&(0,a.jsxs)("label",{htmlFor:d,className:"block text-sm font-medium text-neutral-900 mb-2",children:[e,n.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[r&&a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400",children:r}),a.jsx("input",{ref:i,id:d,className:(0,l.cn)("w-full bg-white border border-neutral-200 rounded-xl px-4 py-3","text-neutral-900 placeholder-neutral-400","transition-standard","focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-100","hover:border-neutral-300","disabled:bg-neutral-100 disabled:cursor-not-allowed",r&&"pl-10",t&&"border-red-300 focus:border-red-400 focus:ring-red-100",s),...n})]}),t&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})});o.displayName="Input"},38690:(e,t,r)=>{"use strict";r.d(t,{P:()=>n});var a=r(10326),s=r(17577);let l=(0,r(62881).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var o=r(11105);let n=(0,s.forwardRef)(({label:e,error:t,options:r,className:s,id:n,onChange:i,value:d,...u},c)=>{let m=n||`select-${Math.random().toString(36).substr(2,9)}`;return(0,a.jsxs)("div",{className:"w-full",children:[e&&(0,a.jsxs)("label",{htmlFor:m,className:"block text-sm font-medium text-neutral-900 mb-2",children:[e,u.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("select",{ref:c,id:m,value:d,className:(0,o.cn)("w-full bg-white border border-neutral-200 rounded-xl px-4 py-3","text-neutral-900","transition-standard","focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-100","hover:border-neutral-300","disabled:bg-neutral-100 disabled:cursor-not-allowed","appearance-none pr-10",t&&"border-red-300 focus:border-red-400 focus:ring-red-100",s),onChange:e=>{i&&i(e.target.value)},...u,children:r.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))}),a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-neutral-400",children:a.jsx(l,{className:"w-5 h-5"})})]}),t&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})});n.displayName="Select"},96038:(e,t,r)=>{"use strict";r.d(t,{Hk:()=>s,KN:()=>i,cu:()=>a,iJ:()=>n,jp:()=>l,ny:()=>o});let a=["Inoculation","Colonization","Fruiting","Harvest"],s=["Blue Oyster","Golden Oyster","Pink Oyster","King Oyster","Phoenix Oyster","Shiitake","Lion's Mane","Reishi","Maitake","Enoki","Chestnut","Wine Cap","Turkey Tail","Button/Portobello","Nameko","Pioppino","Other"],l=["Coco Coir","Coco+Verm","CVG","Manure-based","Straw","Hardwood","Master's Mix","BRF","Rye Grain","Wild Bird Seed","Uncle Ben's","Popcorn","Other"],o=["Liquid Culture","Spore Syringe","Agar Transfer","G2G","Spore Print","Clone","Sawdust Spawn","Other"],n=["Monotub","SGFC","Fruiting Bag","Martha Tent","Shoebox","Hydroponics","Open Air","Other"],i=["PF Tek","Uncle Ben's","G2G","Agar","Liquid Culture","Shoebox","Broke Boi","BRF Cakes","Bulk Substrate","Monotub Tek","Other"]},42945:(e,t,r)=>{"use strict";r.d(t,{createClient:()=>s});var a=r(59813);let s=()=>(0,a.createClientComponentClient)()},11105:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(41135),s=r(31009);function l(...e){return(0,s.m6)((0,a.W)(e))}},69029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getImageProps:function(){return n}});let a=r(91174),s=r(23078),l=r(92481),o=a._(r(86820));function n(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let i=l.Image},71416:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(19510),s=r(58585),l=r(19692),o=r(57371);let n=(0,r(68570).createProxy)(String.raw`/Users/pouya/Desktop/Apps/spawnify/spawnify-mvp/components/auth/LogoutButton.tsx#LogoutButton`);var i=r(60440);async function d(){let e=(0,l.e)(),{data:{user:t}}=await e.auth.getUser();if(!t)return null;let{data:r}=await e.from("user_profiles").select("verification_level, email").eq("id",t.id).single(),s=r?.verification_level||"bronze";return a.jsx("nav",{className:"bg-white border-b border-neutral-200 sticky top-0 z-50",children:a.jsx("div",{className:"container mx-auto px-6 md:px-8 lg:px-12",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[a.jsx(o.default,{href:"/dashboard",className:"text-xl font-bold text-neutral-900",children:"Spawnify"}),(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-6",children:[a.jsx(o.default,{href:"/dashboard",className:"text-sm font-medium text-neutral-900 hover:text-primary-600 transition-colors",children:"Dashboard"}),a.jsx(o.default,{href:"/dashboard/grow-logs",className:"text-sm font-medium text-neutral-600 hover:text-primary-600 transition-colors",children:"Grow Logs"}),a.jsx(o.default,{href:"/dashboard/settings",className:"text-sm font-medium text-neutral-600 hover:text-primary-600 transition-colors",children:"Settings"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"hidden sm:flex items-center gap-3",children:(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-neutral-500",children:r?.email||t.email}),a.jsx(i.C,{variant:s,className:"mt-1",children:s.charAt(0).toUpperCase()+s.slice(1)})]})}),a.jsx(n,{variant:"ghost",size:"small"})]})]})})})}async function u({children:e}){let t=(0,l.e)(),{data:{user:r}}=await t.auth.getUser();return r||(0,s.redirect)("/login"),(0,a.jsxs)("div",{className:"min-h-screen bg-neutral-50",children:[a.jsx(d,{}),a.jsx("main",{className:"container mx-auto px-6 py-8 md:px-8 lg:px-12",children:e})]})}},11506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>o});var a=r(19510),s=r(44111),l=r.n(s);r(67272);let o={title:"Spawnify - Track Mushroom Grows, Advance Science",description:"Join thousands of growers documenting their cultivation journey. Your data helps power AI research and optimize growing conditions worldwide.",keywords:"mushroom cultivation, grow tracking, mycology, mushroom growing, scientific research"};function n({children:e}){return a.jsx("html",{lang:"en",className:l().variable,children:a.jsx("body",{children:e})})}},88340:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});let a=(0,r(68570).createProxy)(String.raw`/Users/pouya/Desktop/Apps/spawnify/spawnify-mvp/components/grow-logs/GrowLogForm.tsx#GrowLogForm`)},60440:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var a=r(19510),s=r(75363);function l({variant:e,children:t,className:r}){return a.jsx("span",{className:(0,s.cn)("inline-flex items-center rounded-full px-3 py-1 text-xs font-medium",{bronze:"bg-neutral-200 text-neutral-700",silver:"bg-neutral-300 text-neutral-800",gold:"bg-yellow-100 text-yellow-800",success:"bg-success-100 text-success-700",default:"bg-neutral-100 text-neutral-700"}[e],r),children:t})}},19692:(e,t,r)=>{"use strict";r.d(t,{e:()=>l});var a=r(20344),s=r(71615);let l=()=>(0,a.createServerComponentClient)({cookies:s.cookies})},75363:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(55761),s=r(62386);function l(...e){return(0,s.m6)((0,a.W)(e))}},67272:()=>{}};